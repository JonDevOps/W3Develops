<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics- Keep this at the top of the head and add to every page-->
	  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129862759-1"></script>
	  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-129862759-1');
	  </script>

    <!--This script transfers anyone viewing the website on http to the https version - keep this as close to the top of the head as possible-->
    <script  type="text/javascript">
      var host = "w3develops.org";
      if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
    </script>
	  
    <!--required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible">
    <meta name="description" content="Ever wanted to pair up with programmer's and learn code by building real world projects? We put motivated people together in a community where they have the opportunity to level-up their skills by building projects. Everything here is free from the meetups to the hackathons.">
    <meta name="keywords" content="learn to code for free, javascript, php, python, machine learning, job opportunities, get a developer job, data science, full stack developer, web development, front end developer, back end developer, projects, build projects, collaboration, code collaboration, pair programming, developer, programmer, teamwork, learn to code, groups, teams, complete, bootcamp, free code camp, code, cohort, computer science, build projects, learn, build, meetup, learn scrum, practice scrum, learn html, practice html, learn css, practice css, learn agile methodology, practice agile methodology, learn programming, practice programming">
    <meta name="author" content="W3develops">
    <title>W3Develops | Study Groups</title>

    <!--bing site ownership verification-->
    	<meta name="msvalidate.01" content="3FB57F47D50D3D1C08477C58310A8345" />
    <!--verifies site ownership to google-->
    	<meta name="google-site-verification" content="NJ4hLeLZ6BXw_03UUOq0S7Oxfyz-Y3g0ScNUdhsm1Zo" />
    <!--link for cloudflare-->
    	<link rel="canonical" href="https://w3develops.org"/>
    <!-- Bootstrap core CSS -->
    	<link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom fonts for this template -->
    <link href="../vendor/fontawesome/fontawesome-free-5.5.0-web/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="../vendor/fontawesome/fontawesome-free-5.5.0-web/css/solid.min.css" rel="stylesheet" type="text/css">
    <link href="../vendor/fontawesome/fontawesome-free-5.5.0-web/css/regular.min.css" rel="stylesheet" type="text/css">
    <link href="../vendor/fontawesome/fontawesome-free-5.5.0-web/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
   	<link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
   	<link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
     <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
     
    <!-- Styles for this template -->
    <link href="../css/agency.css" rel="stylesheet">
    <!-- Our custom CSS -->
    <link href="../css/w3develops.css" rel="stylesheet">
    <!-- html_util.js-->
    <script type="text/javascript" src="../js/html_util.js"> </script>
    <!--favicon -->
    <link rel="Shortcut Icon" type="image/x-icon" href="../img/the-bonfire.png" />
  </head>

  <body id="page-top">
    <!-- Navigation Placeholder (see also: navigation.html) -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    </nav>

    <!-- Header -->
    <header class="masthead" style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('../img/header-bg.jpg') center center no-repeat;">
      <div class="container">
        <div class="intro-text">
          <div class="intro-lead-in">
            Study code for free globally with remote teams
          </div>

          <div class="intro-heading text-uppercase">
            Check below for this month's study groups!
          </div>
        </div>
      </div>
    </header>

	  <!-- Groups Section -->
    <section class="bg-light-gray">
      <div id="study-groups" class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading">Study Groups</h2>
          </div>
          <div class="col-lg-12 text-center">
            <h3 class="section-subheading text-muted">This Is What we Do: </h3>
          </div>
        </div>
      </div>
      
      <div id="study-groups" class="container">
        <div class="row">
          <div class="col text-center">
            <button class="btn btn-primary btn-xl text-uppercase" type="submit">
              <a href="../index.html">HOME</a>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <div class="footer">
      <div class="overlayer">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="credits">
                Â© 2017-2019 w3Develops, made with <i class="fa fa-heart heart" alt="love"></i> for a better web.
              </div>
            </div>
        </div>
      </div>
    </div>
	    
    <!-- Bootstrap core JavaScript -->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact form JavaScript -->
    <script src="../js/jqBootstrapValidation.js"></script>
    <script src="../js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="../js/agency.js"></script>

    <!-- Script to sort study groups-->
    <script>
        // TODO: need to break this into modules rather than one long file
    
        // TODO: do we need to hide the links to the page?
        // private key stuff - check into this
        // write up a blog post about this procedure - reference other websites:
        // https://coderwall.com/p/duapqq/use-a-google-spreadsheet-as-your-json-backend
        // https://stackoverflow.com/questions/24531351/retrieve-google-spreadsheet-worksheet-json
        const studyLink = 'https://spreadsheets.google.com/feeds/list/1PMWsPEfHFC6myMwhdidyr2hhRK5ZA-JrDQzwRoDTFaw/oua1i2d/public/values?alt=json-in-script&callback=text';
        const buildLink = 'https://spreadsheets.google.com/feeds/list/1PMWsPEfHFC6myMwhdidyr2hhRK5ZA-JrDQzwRoDTFaw/oua1i2d/public/values?alt=json-in-script&callback=text';

        const studySelector = document.querySelector('#study-groups');
        const buildSelector = document.querySelector('#build-groups');
    
        const htmlFull12am = ['HTML & CSS - Full Time - 12AM'];
        const htmlFull6am = ['HTML & CSS - Full Time - 6AM'];
        const htmlFull12pm = ['HTML & CSS - Full Time - 12PM'];
        const htmlFull6pm = ['HTML & CSS - Full Time - 6PM'];
        const htmlPart12am = ['HTML & CSS - Part Time - 12AM'];
        const htmlPart6am = ['HTML & CSS - Part Time - 6AM'];
        const htmlPart12pm = ['HTML & CSS - Part Time - 12PM'];
        const htmlPart6pm = ['HTML & CSS - Part Time - 6PM'];
    
        const jsFull12am = ['JavaScript - Full Time - 12AM'];
        const jsFull6am = ['JavaScript - Full Time - 6AM'];
        const jsFull12pm = ['JavaScript - Full Time - 12PM'];
        const jsFull6pm = ['JavaScript - Full Time - 6PM'];
        const jsPart12am = ['JavaScript - Full Time - 12AM'];
        const jsPart6am = ['JavaScript - Full Time - 6AM'];
        const jsPart12pm = ['JavaScript - Full Time - 12PM'];
        const jsPart6pm = ['JavaScript - Full Time - 6PM'];
    
        const reactFull12am = ['React - Full Time - 12AM'];
        const reactFull6am = ['React - Full Time - 6AM'];
        const reactFull12pm = ['React - Full Time - 12PM'];
        const reactFull6pm = ['React - Full Time - 6PM'];
        const reactPart12am = ['React - Full Time - 12AM'];
        const reactPart6am = ['React - Full Time - 6AM'];
        const reactPart12pm = ['React - Full Time - 12PM'];
        const reactPart6pm = ['React - Full Time - 6PM'];
    
        appendGroups();
        
        async function appendGroups() {
          const groupsList = await Promise.all([grabGroup(studyLink), grabGroup(buildLink)]);
          const study = groupsList[0];
          const build = groupsList[1];
    
          sortPeople(study);
          createUL(htmlFull12am, studySelector);
          createUL(htmlFull6am, studySelector);
          createUL(htmlFull12pm, studySelector);
          createUL(htmlFull6pm, studySelector);
          createUL(htmlPart12am, studySelector);
          createUL(htmlPart6am, studySelector);
          createUL(htmlPart12pm, studySelector);
          createUL(htmlPart6pm, studySelector);
    
          createUL(jsFull12am, studySelector);
          createUL(jsFull6am, studySelector);
          createUL(jsFull12pm, studySelector);
          createUL(jsFull6pm, studySelector);
          createUL(jsPart12am, studySelector);
          createUL(jsPart6am, studySelector);
          createUL(jsPart12pm, studySelector);
          createUL(jsPart6pm, studySelector);
    
          createUL(reactFull12am, studySelector);
          createUL(reactFull6am, studySelector);
          createUL(reactFull12pm, studySelector);
          createUL(htmlFull6pm, studySelector);
          createUL(reactPart12am, studySelector);
          createUL(reactPart6am, studySelector);
          createUL(reactPart12pm, studySelector);
          createUL(reactPart6pm, studySelector);
    
          // function to pass study group arrays to build strings of html that 
          // are unorderlists of group participants 
          function createUL(arr, selector) {
            // conditional to create new list once 6 are in a list
            let label = arr[0];
            let len = arr.length;
    
            let htmlString = '';
            let liString = '';
    
             for (let i = 1; i < len; i++) {
              if (i % 6 === 0) {
                liString +=
                `
                <li>
                  ${arr[i]}
                </li>
                `;
                htmlString = 
                `
                <figure>
                <figcaption>${arr[0]}</figcaption>
                  <ul>
                    ${liString}
                  </ul>
                </figure>
                `;
                selector.insertAdjacentHTML('beforeend', htmlString);
                htmlString = '';
                liString = '';
              // isn't working quite right yet on exactly 6 items makes another group
              // if len > 6 then it doesn't do the open thing
              // need another variable
              }else if (i === len - 1 && (len - 1) % 6 !== 0) {
                liString +=
                `
                <li>
                  ${arr[i]}
                </li>
                `;
                for (let j = 0; j < 7 - len; j++) {
                  liString += 
                  `<li>
                    open
                  </li>
                  `;
                }
              }else {
                liString +=
                `
                <li>
                  ${arr[i]}
                </li>
                `;
              }
    
              htmlString = 
                `
                <figure>
                <figcaption>${arr[0]}</figcaption>
                  <ul>
                    ${liString}
                  </ul>
                </figure>
                `;
            }
    
            selector.insertAdjacentHTML('beforeend', htmlString);
          }
        }
    
        async function grabGroup(link) {
          try {
            let res = await fetch(link,
              { headers: {'Content-Type': 'text/plain; charset=utf-8'} });
            let text = await res.text();
            let sheetText = await text.replace('// API callback\ntext(', '')
                                      .replace(');', '');
            let groupObj = await JSON.parse(sheetText);

            let groupArr = await groupObj.feed.entry;
            // console.log('groupArr', groupArr);
            return groupArr;
          } catch(err) {
              console.log('error', err);
              alert('sorry, we have no bananas.')
            }
        }

        // async function newParse(json) {
        //   let newArr = [];
        //   for (let key in json.feed.entry) {
        //     let newObj = {};
        //     newObj.beginning = json.feed.entry[key].gsx$beginning.$t;
        //     newObj.name = json.feed.entry[key].gsx$username.$t;
        //     newObj.commitment = json.feed.entry[key].gsx$commitment.$t;
        //     newObj.technology = json.feed.entry[key].gsx$technology.$t;
        //     newArr.push(newObj);
        //   }
        //   console.log('newArr', newArr);
        // }
    
        function sortPeople(people) {
          // this giant conditional sort feels really really hacky
          // TODO: find a better way to sort/filter the users
          people.forEach((person) => {
            if (person.gsx$technology.$t === 'HTML & CSS'
                && person.gsx$commitment.$t === 'full time - 6 hours a day'
                && person.gsx$beginning.$t === '12 am') {
              htmlFull12am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'HTML & CSS'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '6 am') {
              htmlFull6am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'HTML & CSS'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '12 pm') {
              htmlFull12pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'HTML & CSS'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '6 pm') {
              htmlFull6pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'HTML & CSS'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '12 am') {
              htmlPart12am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'HTML & CSS'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '6 am') {
              htmlPart6am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'HTML & CSS'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '12 pm') {
              htmlPart12pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'HTML & CSS'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '6 pm') {
              htmlFull6pm.push(person.gsx$username.$t);
            }
            if (person.gsx$technology.$t === 'JavaScript'
                && person.gsx$commitment.$t === 'full time - 6 hours a day'
                && person.gsx$beginning.$t === '12 am') {
              jsFull12am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'JavaScript'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '6 am') {
              jsFull6am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'JavaScript'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '12 pm') {
              jsFull12pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'JavaScript'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '6 pm') {
              jsFull6pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'JavaScript'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '12 am') {
              jsPart12am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'JavaScript'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '6 am') {
              jsPart6am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'JavaScript'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '12 pm') {
              jsPart12pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'JavaScript'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '6 pm') {
              jsFull6pm.push(person.gsx$username.$t);
            }
            if (person.gsx$technology.$t === 'React'
                && person.gsx$commitment.$t === 'full time - 6 hours a day'
                && person.gsx$beginning.$t === '12 am') {
              reactFull12am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'React'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '6 am') {
              reactFull6am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'React'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '12 pm') {
              reactFull12pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'React'
                      && person.gsx$commitment.$t === 'full time - 6 hours a day'
                      && person.gsx$beginning.$t === '6 pm') {
              reactFull6pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'React'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '12 am') {
              reactPart12am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'React'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '6 am') {
              reactPart6am.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'React'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '12 pm') {
              reactPart12pm.push(person.gsx$username.$t);
            }else if (person.gsx$technology.$t === 'React'
                      && person.gsx$commitment.$t === 'part time - 3 hours a day'
                      && person.gsx$beginning.$t === '6 pm') {
              reactFull6pm.push(person.gsx$username.$t);
            }
          });
        }
    
      </script>

    <!-- Script for html_include -->
    <script type="text/javascript">
    window.onload = function() {
        html_include("mainNav", "../navigation.html");
    }
    </script>
  </body>

</html>
